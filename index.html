<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Å–±–æ—Ä–∫–∏ –ü–ö</title>
  <style>
    body {
      font-family: "Inter", sans-serif;
      background: #0f172a;
      color: #f1f5f9;
      margin: 0;
      padding: 0;
    }

    .ai-container {
      max-width: 800px;
      margin: 40px auto;
      background: #1e293b;
      border-radius: 20px;
      box-shadow: 0 0 25px rgba(0,0,0,0.4);
      padding: 30px;
    }

    h2 {
      text-align: center;
      font-size: 24px;
      margin-bottom: 20px;
      color: #38bdf8;
    }

    .chat-container {
      height: 500px;
      overflow-y: auto;
      border: 1px solid #334155;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      background: #0f172a;
    }

    .message {
      margin-bottom: 15px;
      padding: 12px;
      border-radius: 10px;
      line-height: 1.5;
    }

    .user-message {
      background: #1e40af;
      margin-left: 50px;
      border-bottom-right-radius: 2px;
    }

    .ai-message {
      background: #334155;
      margin-right: 50px;
      border-bottom-left-radius: 2px;
    }

    .input-container {
      display: flex;
      gap: 10px;
    }

    textarea {
      flex: 1;
      min-height: 60px;
      background: #0f172a;
      border: 1px solid #334155;
      color: #f8fafc;
      border-radius: 12px;
      padding: 15px;
      font-size: 16px;
      resize: vertical;
      outline: none;
      transition: 0.3s;
    }

    textarea:focus {
      border-color: #38bdf8;
      box-shadow: 0 0 5px #38bdf8;
    }

    button {
      background: linear-gradient(90deg, #3b82f6, #06b6d4);
      border: none;
      color: white;
      padding: 12px 24px;
      font-size: 16px;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.3s;
      white-space: nowrap;
    }

    button:hover:not(:disabled) {
      opacity: 0.9;
      transform: translateY(-2px);
    }

    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none !important;
    }

    .loading {
      text-align: center;
      color: #94a3b8;
      font-style: italic;
    }

    .error {
      color: #ef4444;
      background: #7f1d1d !important;
    }

    .typing-indicator {
      display: inline-flex;
      gap: 3px;
    }

    .typing-dot {
      width: 6px;
      height: 6px;
      background: #94a3b8;
      border-radius: 50%;
      animation: typing 1.4s infinite;
    }

    .typing-dot:nth-child(2) { animation-delay: 0.2s; }
    .typing-dot:nth-child(3) { animation-delay: 0.4s; }

    @keyframes typing {
      0%, 60%, 100% { transform: translateY(0); }
      30% { transform: translateY(-5px); }
    }

    .suggestions {
      display: flex;
      gap: 8px;
      margin-top: 10px;
      flex-wrap: wrap;
    }

    .suggestion-btn {
      background: #475569;
      border: none;
      color: #f1f5f9;
      padding: 6px 12px;
      border-radius: 15px;
      cursor: pointer;
      font-size: 12px;
      transition: 0.3s;
    }

    .suggestion-btn:hover {
      background: #38bdf8;
    }

    .component-highlight {
      background: #475569;
      padding: 8px;
      margin: 5px 0;
      border-radius: 6px;
      border-left: 3px solid #38bdf8;
    }
  </style>
</head>
<body>

  <div class="ai-container">
    <h2>ü§ñ AI –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ —Å–±–æ—Ä–∫–µ –ü–ö</h2>
    
    <div class="chat-container" id="chatContainer">
      <div class="message ai-message">
        <strong>üëã –ü—Ä–∏–≤–µ—Ç! –Ø AI-–ø–æ–º–æ—â–Ω–∏–∫ –ø–æ —Å–±–æ—Ä–∫–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤.</strong><br><br>
        –Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ –ø–æ–¥–æ–±—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –ü–ö –ø–æ–¥ —Ç–≤–æ–∏ –∑–∞–¥–∞—á–∏ –∏ –±—é–¥–∂–µ—Ç.<br><br>
        –†–∞—Å—Å–∫–∞–∂–∏:
        ‚Ä¢ –î–ª—è –∫–∞–∫–∏—Ö —Ü–µ–ª–µ–π –Ω—É–∂–µ–Ω –∫–æ–º–ø—å—é—Ç–µ—Ä?<br>
        ‚Ä¢ –ö–∞–∫–æ–π —É —Ç–µ–±—è –±—é–¥–∂–µ—Ç?<br>
        ‚Ä¢ –ï—Å—Ç—å –ª–∏ –æ—Å–æ–±—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è?<br><br>
        
        <div class="suggestions">
          <button class="suggestion-btn" onclick="sendSuggestion('–ù—É–∂–µ–Ω –∏–≥—Ä–æ–≤–æ–π –ü–ö –¥–æ 80000 —Ä—É–±–ª–µ–π')">üéÆ –ò–≥—Ä–æ–≤–æ–π –ü–ö –¥–æ 80–∫</button>
          <button class="suggestion-btn" onclick="sendSuggestion('–•–æ—á—É –∫–æ–º–ø—å—é—Ç–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏ —É—á–µ–±—ã –¥–æ 50000')">üíº –†–∞–±–æ—Ç–∞ –∏ —É—á–µ–±–∞</button>
          <button class="suggestion-btn" onclick="sendSuggestion('–°–æ–±–µ—Ä–∏ –º–æ—â–Ω—ã–π –ü–ö –¥–ª—è –º–æ–Ω—Ç–∞–∂–∞ –≤–∏–¥–µ–æ')">üé¨ –î–ª—è –º–æ–Ω—Ç–∞–∂–∞</button>
          <button class="suggestion-btn" onclick="sendSuggestion('–ë—é–¥–∂–µ—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏ —Ñ–∏–ª—å–º–æ–≤')">üì∫ –ë—é–¥–∂–µ—Ç–Ω—ã–π –ü–ö</button>
        </div>
      </div>
    </div>

    <div class="input-container">
      <textarea id="userInput" placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à –∑–∞–ø—Ä–æ—Å... (Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏, Shift+Enter –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏)"></textarea>
      <button id="sendButton">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </div>
  </div>

  <script>
    const chatContainer = document.getElementById('chatContainer');
    const userInput = document.getElementById('userInput');
    const sendButton = document.getElementById('sendButton');

    // –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –ü–ö
    const pcComponents = {
      processors: {
        budget: ["Intel Core i3-12100", "AMD Ryzen 5 5600G", "Intel Core i5-12400"],
        midrange: ["Intel Core i5-13400", "AMD Ryzen 5 7600X", "Intel Core i5-13600K"],
        highEnd: ["Intel Core i7-13700K", "AMD Ryzen 7 7800X3D", "Intel Core i9-13900K"]
      },
      gpus: {
        budget: ["NVIDIA GTX 1650", "AMD RX 6400", "Intel Arc A380"],
        midrange: ["NVIDIA RTX 4060", "AMD RX 7600", "NVIDIA RTX 3060"],
        highEnd: ["NVIDIA RTX 4070", "AMD RX 7800 XT", "NVIDIA RTX 4080"]
      },
      motherboards: {
        intel: ["ASUS PRIME B760", "MSI PRO Z790", "Gigabyte B660"],
        amd: ["ASUS TUF B650", "MSI B550", "Gigabyte X670"]
      },
      ram: {
        ddr4: ["16GB DDR4 3200MHz", "32GB DDR4 3600MHz"],
        ddr5: ["16GB DDR5 5600MHz", "32GB DDR5 6000MHz"]
      },
      storage: {
        budget: ["SSD 512GB NVMe", "SSD 1TB SATA"],
        fast: ["SSD 1TB NVMe", "SSD 2TB NVMe"]
      },
      psus: {
        budget: ["500W 80+ Bronze", "550W 80+ Bronze"],
        quality: ["650W 80+ Gold", "750W 80+ Gold", "850W 80+ Gold"]
      }
    };

    // –£–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–ø—Ä–æ—Å–∞
    function generateSmartResponse(userMessage) {
      const message = userMessage.toLowerCase();
      
      // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∑–∞–ø—Ä–æ—Å–∞
      const isGaming = message.includes('–∏–≥—Ä') || message.includes('game');
      const isOffice = message.includes('–æ—Ñ–∏—Å') || message.includes('—Ä–∞–±–æ—Ç') || message.includes('—É—á–µ–±');
      const isBudget = message.includes('–±—é–¥–∂–µ—Ç') || message.includes('–¥–µ—à–µ–≤') || /\d0000/.test(message);
      const isVideo = message.includes('–≤–∏–¥–µ–æ') || message.includes('–º–æ–Ω—Ç–∞–∂') || message.includes('–≥—Ä–∞—Ñ–∏–∫');
      const isStreaming = message.includes('—Å—Ç—Ä–∏–º') || message.includes('—Ç—Ä–∞–Ω—Å–ª—è—Ü');
      
      // –ò–∑–≤–ª–µ–∫–∞–µ–º –±—é–¥–∂–µ—Ç
      const budgetMatch = message.match(/(\d+)\s*([—Ç—Ç]—ã—Å|[–∫k]|—Ä—É–±)/) || message.match(/\b(\d{4,6})\b/);
      let budget = budgetMatch ? parseInt(budgetMatch[1]) * (budgetMatch[2]?.includes('—Ç') ? 1000 : 1) : null;

      // –õ–æ–≥–∏–∫–∞ –ø–æ–¥–±–æ—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
      let components = {};
      let totalCost = 0;

      if (isGaming) {
        if (budget && budget < 50000) {
          components = {
            cpu: pcComponents.processors.budget[1], // AMD —Å —Ö–æ—Ä–æ—à–µ–π –≥—Ä–∞—Ñ–∏–∫–æ–π
            gpu: pcComponents.gpus.budget[0],
            mobo: pcComponents.motherboards.amd[1],
            ram: pcComponents.ram.ddr4[0],
            storage: pcComponents.storage.budget[0],
            psu: pcComponents.psus.budget[0],
            cost: 35000
          };
        } else if (budget && budget < 80000) {
          components = {
            cpu: pcComponents.processors.midrange[0],
            gpu: pcComponents.gpus.midrange[0],
            mobo: pcComponents.motherboards.intel[0],
            ram: pcComponents.ram.ddr4[1],
            storage: pcComponents.storage.fast[0],
            psu: pcComponents.psus.quality[0],
            cost: 65000
          };
        } else {
          components = {
            cpu: pcComponents.processors.highEnd[0],
            gpu: pcComponents.gpus.highEnd[0],
            mobo: pcComponents.motherboards.intel[1],
            ram: pcComponents.ram.ddr5[1],
            storage: pcComponents.storage.fast[1],
            psu: pcComponents.psus.quality[2],
            cost: 120000
          };
        }
      } else if (isOffice || isBudget) {
        components = {
          cpu: pcComponents.processors.budget[0],
          gpu: "–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞",
          mobo: pcComponents.motherboards.intel[2],
          ram: pcComponents.ram.ddr4[0],
          storage: pcComponents.storage.budget[0],
          psu: pcComponents.psus.budget[0],
          cost: 25000
        };
      } else if (isVideo) {
        components = {
          cpu: pcComponents.processors.highEnd[1],
          gpu: pcComponents.gpus.highEnd[1],
          mobo: pcComponents.motherboards.amd[2],
          ram: pcComponents.ram.ddr5[1],
          storage: pcComponents.storage.fast[1],
          psu: pcComponents.psus.quality[2],
          cost: 140000
        };
      }

      // –§–æ—Ä–º–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç
      let response = `üí° **–ù–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ "${userMessage}"**\n\n`;

      if (components.cpu) {
        response += `üéØ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**\n\n`;
        response += `<div class="component-highlight">‚Ä¢ <strong>–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä:</strong> ${components.cpu}</div>`;
        response += `<div class="component-highlight">‚Ä¢ <strong>–í–∏–¥–µ–æ–∫–∞—Ä—Ç–∞:</strong> ${components.gpu}</div>`;
        response += `<div class="component-highlight">‚Ä¢ <strong>–ú–∞—Ç–µ—Ä–∏–Ω—Å–∫–∞—è –ø–ª–∞—Ç–∞:</strong> ${components.mobo}</div>`;
        response += `<div class="component-highlight">‚Ä¢ <strong>–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å:</strong> ${components.ram}</div>`;
        response += `<div class="component-highlight">‚Ä¢ <strong>–ù–∞–∫–æ–ø–∏—Ç–µ–ª—å:</strong> ${components.storage}</div>`;
        response += `<div class="component-highlight">‚Ä¢ <strong>–ë–ª–æ–∫ –ø–∏—Ç–∞–Ω–∏—è:</strong> ${components.psu}</div>`;
        
        response += `\nüí∞ <strong>–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> ${components.cost.toLocaleString()} —Ä—É–±.\n\n`;
        
        if (isGaming) {
          response += `üéÆ <strong>–î–ª—è –∏–≥—Ä:</strong> –≠—Ç–∞ —Å–±–æ—Ä–∫–∞ –æ–±–µ—Å–ø–µ—á–∏—Ç –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π –≥–µ–π–º–∏–Ω–≥ –≤ 1080p/1440p —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏.\n`;
        }
        if (isVideo) {
          response += `üé¨ <strong>–î–ª—è –º–æ–Ω—Ç–∞–∂–∞:</strong> –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞ —Å –≤–∏–¥–µ–æ –∏ –≥—Ä–∞—Ñ–∏–∫–æ–π –±–ª–∞–≥–æ–¥–∞—Ä—è –º–æ—â–Ω–æ–º—É CPU –∏ GPU.\n`;
        }
        if (isOffice) {
          response += `üíº <strong>–î–ª—è —Ä–∞–±–æ—Ç—ã:</strong> –û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –æ—Ñ–∏—Å–Ω—ã—Ö –∑–∞–¥–∞—á –∏ –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç–∏.\n`;
        }
      } else {
        response += `ü§î <strong>–£—Ç–æ—á–Ω–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞:</strong>\n`;
        response += `‚Ä¢ –ö–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –±—é–¥–∂–µ—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç–µ?\n`;
        response += `‚Ä¢ –î–ª—è –∫–∞–∫–∏—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –∑–∞–¥–∞—á –Ω—É–∂–µ–Ω –∫–æ–º–ø—å—é—Ç–µ—Ä?\n`;
        response += `‚Ä¢ –ï—Å—Ç—å –ª–∏ –æ—Å–æ–±—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (—Ç–∏—Ö–∏–π, –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π, —Å RGB –∏ —Ç.–¥.)?\n\n`;
        response += `<em>–ù–∞–ø—Ä–∏–º–µ—Ä: "–ù—É–∂–µ–Ω –∏–≥—Ä–æ–≤–æ–π –ü–ö –¥–æ 70000 —Ä—É–±–ª–µ–π –¥–ª—è –∏–≥—Ä –≤ FullHD"</em>`;
      }

      response += `\nüîß <strong>–•–æ—Ç–∏—Ç–µ —É—Ç–æ—á–Ω–∏—Ç—å –∫–∞–∫–æ–π-—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –±—é–¥–∂–µ—Ç?</strong>`;

      return response;
    }

    function addMessage(content, isUser = false) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${isUser ? 'user-message' : 'ai-message'}`;
      messageDiv.innerHTML = content;
      chatContainer.appendChild(messageDiv);
      chatContainer.scrollTop = chatContainer.scrollHeight;
    }

    function showTypingIndicator() {
      const typingDiv = document.createElement('div');
      typingDiv.className = 'message ai-message';
      typingDiv.id = 'typingIndicator';
      typingDiv.innerHTML = `<div class="typing-indicator">
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
      </div>`;
      chatContainer.appendChild(typingDiv);
      chatContainer.scrollTop = chatContainer.scrollHeight;
    }

    function hideTypingIndicator() {
      const typingIndicator = document.getElementById('typingIndicator');
      if (typingIndicator) {
        typingIndicator.remove();
      }
    }

    // –ò–º–∏—Ç–∞—Ü–∏—è "–Ω–µ–π—Ä–æ—Å–µ—Ç–∏" —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π
    async function processWithAI(userMessage) {
      return new Promise((resolve) => {
        setTimeout(() => {
          const response = generateSmartResponse(userMessage);
          resolve(response);
        }, 1500 + Math.random() * 1000); // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏
      });
    }

    async function sendMessage() {
      const message = userInput.value.trim();
      if (!message) return;

      userInput.value = '';
      addMessage(message, true);
      
      sendButton.disabled = true;
      userInput.disabled = true;
      
      showTypingIndicator();

      try {
        const aiResponse = await processWithAI(message);
        hideTypingIndicator();
        addMessage(aiResponse);
        
        addSuggestions();
        
      } catch (error) {
        hideTypingIndicator();
        addMessage(`‚ùå –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞`, false);
      } finally {
        sendButton.disabled = false;
        userInput.disabled = false;
        userInput.focus();
      }
    }

    function addSuggestions() {
      const suggestions = [
        '–ö–∞–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –ª—É—á—à–µ –¥–ª—è –∏–≥—Ä?',
        '–ü–æ—Å–æ–≤–µ—Ç—É–π –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—É –¥–æ 40000',
        '–ú–æ–∂–Ω–æ –¥–µ—à–µ–≤–ª–µ?',
        '–ö–∞–∫–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É DDR4 –∏ DDR5?',
        '–°–∫–æ–ª—å–∫–æ –≤–∞—Ç—Ç –Ω—É–∂–Ω–æ –¥–ª—è —ç—Ç–æ–π —Å–±–æ—Ä–∫–∏?'
      ];

      const suggestionsHTML = suggestions.map(suggestion => 
        `<button class="suggestion-btn" onclick="sendSuggestion('${suggestion}')">${suggestion}</button>`
      ).join('');

      const suggestionsDiv = document.createElement('div');
      suggestionsDiv.className = 'suggestions';
      suggestionsDiv.innerHTML = suggestionsHTML;
      
      const lastMessage = chatContainer.lastChild;
      lastMessage.appendChild(suggestionsDiv);
    }

    function sendSuggestion(text) {
      userInput.value = text;
      sendMessage();
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
    sendButton.addEventListener('click', sendMessage);

    userInput.addEventListener('keydown', function(e) {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendMessage();
      }
    });

    userInput.addEventListener('input', function() {
      sendButton.disabled = !this.value.trim();
    });

    // –§–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞
    userInput.focus();
  </script>

</body>
</html>
